(this.webpackJsonpinterview=this.webpackJsonpinterview||[]).push([[0],{16:function(e,n,t){},21:function(e,n,t){},22:function(e,n,t){},23:function(e,n,t){},24:function(e,n,t){"use strict";t.r(n);var c,a,s,i,l,r,j,d=t(1),o=t.n(d),u=t(8),b=t.n(u),h=(t(16),t(2)),p=t(3);const x=p.a.button(c||(c=Object(h.a)(["\n  cursor: pointer;\n  background-color: rgb(220, 220, 220);\n  outline: none;\n  border-radius: 5px;\n  padding: 5 30px;\n  height: 30px;\n  display: block;\n  width: 100px;\n  color: rgb(37, 32, 32);\n  border: none;\n"]))),O=p.a.div(a||(a=Object(h.a)(["\n  clear: both;\n  margin-bottom: 30px;\n"]))),f=p.a.p(s||(s=Object(h.a)(["\n  text-align: left;\n  padding: 8px 0;\n"]))),m=p.a.div(i||(i=Object(h.a)(["\n  display: flex;\n  padding: 8px 0;\n"]))),v=p.a.div(l||(l=Object(h.a)(["\n  text-align: left;\n  flex: 1;\n"]))),g=p.a.div(r||(r=Object(h.a)(["\n  text-align: center;\n"]))),N=p.a.span(j||(j=Object(h.a)(["\n  margin: 0 30px;\n  display: inline-block;\n"])));var U=t(0);function S(e){let{addPlan:n}=e;const[t,c]=Object(d.useState)(""),[a,s]=Object(d.useState)(""),[i,l]=Object(d.useState)(""),[r,j]=Object(d.useState)(!1);function o(){let e=1*a,r={};if(console.log(t,a,i),"number"!==typeof e||isNaN(e)||""===t||0===e||""===i)return alert("\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01");r={id:Date.now(),finished:!1,plan:t,price:e,currency:i},n(r),c(""),s(""),l("")}return Object(U.jsxs)("div",{className:"Task-header",children:[Object(U.jsxs)("div",{className:"left",children:[Object(U.jsx)("input",{className:"task",type:"text",placeholder:"\u4efb\u52a1",value:t,onChange:e=>{c(e.target.value)}}),Object(U.jsx)("input",{className:"price",type:"text",placeholder:"\u4ef7\u683c",value:a,onChange:e=>{s(e.target.value)}})]}),Object(U.jsxs)("div",{className:"select-box",children:[Object(U.jsx)("input",{className:"currency",value:i,onChange:e=>{l(e.target.value)},type:"text",placeholder:"\u8d27\u5e01\u7c7b\u578b"}),Object(U.jsx)("span",{className:"icon",onClick:e=>{e.preventDefault(),j(!r)},children:"\u25bd"}),r?Object(U.jsx)("ul",{className:"select-CCY",children:["RUB","CNY","USD"].map(((e,n)=>Object(U.jsx)("li",{className:"ccy-item",onClick:()=>{var n;n=e,j(!1),l(n)},children:e},n)))}):""]}),Object(U.jsx)(x,{className:"add",onClick:()=>{o()},children:"\u6dfb\u52a0"})]})}function k(e){let{rate:n}=e,t=n.RUB.value.toFixed(3),c=(1/n.USD.value*n.RUB.value).toFixed(3),a=(1/n.USD.value).toFixed(3);return Object(U.jsxs)("div",{className:"rate-box",children:[Object(U.jsxs)("span",{className:"currency-rate",children:[t," \u20bd/\uffe5"]}),Object(U.jsxs)("span",{className:"currency-rate",children:[c," \u20bd/$"]}),Object(U.jsxs)("span",{className:"currency-rate",children:[a," \uffe5/$"]})]})}var y=t(20);function C(e){let{clickPlan:n,finished:t,id:c,plan:a,RUB:s,CNY:i,USD:l}=e;let r=y({"Plan-text":!0,"is-finished":t});return Object(U.jsxs)("li",{className:"plan-item",children:[Object(U.jsx)("input",{className:"checkbox",type:"checkbox",checked:t,onChange:function(){n(c)}}),Object(U.jsx)("span",{className:r,children:a}),Object(U.jsxs)("div",{className:"plan-money",children:[Object(U.jsxs)("span",{className:"plan-RUB",children:["\u20bd",s]}),Object(U.jsxs)("span",{className:"plan-CNY",children:["\uffe5",i]}),Object(U.jsxs)("span",{className:"plan-USD",children:["$",l]})]})]})}function D(e){let{isfinished:n,job:t,clickPlan:c,rate:a}=e;function s(e){return e.toPrecision(6)}let i=0,l=0,r=0;return i=t.map((e=>1*e.CNY)).reduce(((e,n)=>e+n)),l=t.map((e=>1*e.RUB)).reduce(((e,n)=>e+n)),r=t.map((e=>1*e.USD)).reduce(((e,n)=>e+n)),i=s(i),l=s(l),r=s(r),Object(U.jsxs)(O,{children:[Object(U.jsx)(f,{children:n?"\u5df2\u5b8c\u6210:":"\u8ba1\u5212:"}),Object(U.jsx)("ul",{children:a.USD&&t.map((e=>Object(U.jsx)(C,{...e,clickPlan:c,rate:a},e.id)))}),Object(U.jsxs)(m,{children:[Object(U.jsx)(v,{children:n?"\u4e00\u5171\u82b1\u4e86:":"\u5c06\u8981\u82b1\u8d39:"}),Object(U.jsxs)(g,{children:[Object(U.jsxs)(N,{children:["\u20bd",l]}),Object(U.jsxs)(N,{children:["\uffe5",i]}),Object(U.jsxs)(N,{children:["$",r," "]})]})]})]})}t(21),t(22),t(23);var B=function(){const[e,n]=Object(d.useState)({}),[t,c]=Object(d.useState)([]),a=t.filter((e=>e.finished)),s=t.filter((e=>!e.finished));let i,l,r;function j(e){return e.toPrecision(6)}function o(e){c(t.map((n=>n.id===e?{...n,finished:!n.finished}:n)))}return Object(d.useEffect)((()=>{fetch("/forex").then((e=>e.json())).then((e=>{console.log(e),n(e)}))}),[]),Object(U.jsxs)("div",{className:"App",children:[Object(U.jsx)(S,{addPlan:function(n){if(console.log(n),n){const{plan:a,price:s,currency:d,finished:o,id:u}=n;!function(n,t){switch(n){case"RUB":l=t/e.RUB.value,r=t/e.RUB.value*e.USD.value,i=t;break;case"USD":i=t/e.USD.value*e.RUB.value,l=t/e.USD.value,r=t;break;case"CNY":i=t*e.RUB.value,r=t*e.USD.value,l=t}l=j(l),r=j(r),i=j(i)}(d,s),c([...t,{plan:a,currency:d,finished:o,id:u,RUB:i,CNY:l,USD:r}]),console.log("list",t)}}}),e.USD&&Object(U.jsx)(k,{rate:e}),0!==s.length&&Object(U.jsx)(D,{job:s,clickPlan:o,rate:e,isfinished:!1}),0!==a.length&&Object(U.jsx)(D,{job:a,clickPlan:o,rate:e,isfinished:!0})]})};var P=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,25)).then((n=>{let{getCLS:t,getFID:c,getFCP:a,getLCP:s,getTTFB:i}=n;t(e),c(e),a(e),s(e),i(e)}))};b.a.render(Object(U.jsx)(o.a.StrictMode,{children:Object(U.jsx)(B,{})}),document.getElementById("root")),P()}},[[24,1,2]]]);
//# sourceMappingURL=main.e1fec3cc.chunk.js.map