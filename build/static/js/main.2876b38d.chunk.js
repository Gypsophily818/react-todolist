(this.webpackJsonpinterview=this.webpackJsonpinterview||[]).push([[0],{21:function(e,n,t){},26:function(e,n,t){},27:function(e,n,t){},28:function(e,n,t){},29:function(e,n,t){"use strict";t.r(n);var c,i,a,s,r,l,o,u=t(1),j=t.n(u),d=t(12),b=t.n(d),p=(t(21),t(5)),f=t(16),h=t(2),x=t(3),O=t(4),v=O.a.button(c||(c=Object(x.a)(["\n  cursor: pointer;\n  background-color: rgb(220, 220, 220);\n  outline: none;\n  border-radius: 5px;\n  padding: 5 30px;\n  height: 30px;\n  display: block;\n  width: 100px;\n  color: rgb(37, 32, 32);\n  border: none;\n"]))),m=O.a.div(i||(i=Object(x.a)(["\n  clear: both;\n  margin-bottom: 30px;\n"]))),g=O.a.p(a||(a=Object(x.a)(["\n  text-align: left;\n  padding: 8px 0;\n"]))),N=O.a.div(s||(s=Object(x.a)(["\n  display: flex;\n  padding: 8px 0;\n"]))),U=O.a.div(r||(r=Object(x.a)(["\n  text-align: left;\n  flex: 1;\n"]))),S=O.a.div(l||(l=Object(x.a)(["\n  text-align: center;\n"]))),k=O.a.span(o||(o=Object(x.a)(["\n  margin: 0 30px;\n  display: inline-block;\n"]))),y=t(0);function C(e){var n=e.addPlan,t=Object(u.useState)(""),c=Object(h.a)(t,2),i=c[0],a=c[1],s=Object(u.useState)(""),r=Object(h.a)(s,2),l=r[0],o=r[1],j=Object(u.useState)(""),d=Object(h.a)(j,2),b=d[0],p=d[1],f=Object(u.useState)(!1),x=Object(h.a)(f,2),O=x[0],m=x[1];function g(){var e,t=1*l;if(console.log(i,l,b),"number"!==typeof t||isNaN(t)||""===i||0===t||""===b)return alert("\u8f93\u5165\u9519\u8bef\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165\uff01");e={id:Date.now(),finished:!1,plan:i,price:t,currency:b},n(e),a(""),o(""),p("")}return Object(y.jsxs)("div",{className:"Task-header",children:[Object(y.jsxs)("div",{className:"left",children:[Object(y.jsx)("input",{className:"task",type:"text",placeholder:"\u4efb\u52a1",value:i,onChange:function(e){a(e.target.value)}}),Object(y.jsx)("input",{className:"price",type:"text",placeholder:"\u4ef7\u683c",value:l,onChange:function(e){o(e.target.value)}})]}),Object(y.jsxs)("div",{className:"select-box",children:[Object(y.jsx)("input",{className:"currency",value:b,onChange:function(e){p(e.target.value)},type:"text",placeholder:"\u8d27\u5e01\u7c7b\u578b"}),Object(y.jsx)("span",{className:"icon",onClick:function(e){e.preventDefault(),m(!O)},children:"\u25bd"}),O?Object(y.jsx)("ul",{className:"select-CCY",children:["RUB","CNY","USD"].map((function(e,n){return Object(y.jsx)("li",{className:"ccy-item",onClick:function(){var n;n=e,m(!1),p(n)},children:e},n)}))}):""]}),Object(y.jsx)(v,{className:"add",onClick:function(){g()},children:"\u6dfb\u52a0"})]})}function D(e){var n=e.rate,t=n.RUB.previous.toFixed(3),c=(1/n.USD.previous*n.RUB.previous).toFixed(3),i=(1/n.USD.previous).toFixed(3);return Object(y.jsxs)("div",{className:"rate-box",children:[Object(y.jsxs)("span",{className:"currency-rate",children:[t," \u20bd/\uffe5"]}),Object(y.jsxs)("span",{className:"currency-rate",children:[c," \u20bd/$"]}),Object(y.jsxs)("span",{className:"currency-rate",children:[i," \uffe5/$"]})]})}var B=t(25);function P(e){var n=e.clickPlan,t=e.finished,c=e.id,i=e.plan,a=e.RUB,s=e.CNY,r=e.USD;var l=B({"Plan-text":!0,"is-finished":t});return Object(y.jsxs)("li",{className:"plan-item",children:[Object(y.jsx)("input",{className:"checkbox",type:"checkbox",checked:t,onChange:function(){n(c)}}),Object(y.jsx)("span",{className:l,children:i}),Object(y.jsxs)("div",{className:"plan-money",children:[Object(y.jsxs)("span",{className:"plan-RUB",children:["\u20bd",a]}),Object(y.jsxs)("span",{className:"plan-CNY",children:["\uffe5",s]}),Object(y.jsxs)("span",{className:"plan-USD",children:["$",r]})]})]})}function R(e){var n=e.isfinished,t=e.job,c=e.clickPlan,i=e.rate;function a(e){return e.toPrecision(6)}var s=0,r=0,l=0;return s=t.map((function(e){return 1*e.CNY})).reduce((function(e,n){return e+n})),r=t.map((function(e){return 1*e.RUB})).reduce((function(e,n){return e+n})),l=t.map((function(e){return 1*e.USD})).reduce((function(e,n){return e+n})),s=a(s),r=a(r),l=a(l),Object(y.jsxs)(m,{children:[Object(y.jsx)(g,{children:n?"\u5df2\u5b8c\u6210:":"\u8ba1\u5212:"}),Object(y.jsx)("ul",{children:i.USD&&t.map((function(e){return Object(y.jsx)(P,Object(p.a)(Object(p.a)({},e),{},{clickPlan:c,rate:i}),e.id)}))}),Object(y.jsxs)(N,{children:[Object(y.jsx)(U,{children:n?"\u4e00\u5171\u82b1\u4e86:":"\u5c06\u8981\u82b1\u8d39:"}),Object(y.jsxs)(S,{children:[Object(y.jsxs)(k,{children:["\u20bd",r]}),Object(y.jsxs)(k,{children:["\uffe5",s]}),Object(y.jsxs)(k,{children:["$",l," "]})]})]})]})}t(26),t(27),t(28);var F=function(){var e,n,t,c=Object(u.useState)({}),i=Object(h.a)(c,2),a=i[0],s=i[1],r=Object(u.useState)([]),l=Object(h.a)(r,2),o=l[0],j=l[1],d=o.filter((function(e){return e.finished})),b=o.filter((function(e){return!e.finished}));function x(e){return e.toPrecision(6)}function O(e){j(o.map((function(n){return n.id===e?Object(p.a)(Object(p.a)({},n),{},{finished:!n.finished}):n})))}return Object(u.useEffect)((function(){fetch("https://api.globus.furniture/forex").then((function(e){return e.json()})).then((function(e){console.log(e),s(e)}))}),[]),Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(C,{addPlan:function(c){if(console.log(c),c){var i=c.plan,s=c.price,r=c.currency,l=c.finished,u=c.id;!function(c,i){"RUB"===c?(n=i/a.RUB.previous,t=i/a.RUB.previous*a.USD.previous,e=i):"CNY"===c?(e=i*a.RUB.previous,t=i*a.USD.previous,n=i):(e=i/a.USD.previous*a.RUB.previous,n=i/a.USD.previous,t=i),n=x(n),t=x(t),e=x(e)}(r,s),j([].concat(Object(f.a)(o),[{plan:i,currency:r,finished:l,id:u,RUB:e,CNY:n,USD:t}])),console.log("list",o)}}}),a.USD&&Object(y.jsx)(D,{rate:a}),0!==b.length&&Object(y.jsx)(R,{job:b,clickPlan:O,rate:a,isfinished:!1}),0!==d.length&&Object(y.jsx)(R,{job:d,clickPlan:O,rate:a,isfinished:!0})]})},Y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,30)).then((function(n){var t=n.getCLS,c=n.getFID,i=n.getFCP,a=n.getLCP,s=n.getTTFB;t(e),c(e),i(e),a(e),s(e)}))};b.a.render(Object(y.jsx)(j.a.StrictMode,{children:Object(y.jsx)(F,{})}),document.getElementById("root")),Y()}},[[29,1,2]]]);
//# sourceMappingURL=main.2876b38d.chunk.js.map